(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2447:function(e,t,s){Promise.resolve().then(s.bind(s,8972))},8972:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),a=s(2265),n=s(3681),d=s(6972),r=s(5216),i=s(7540);function o(e){var t;let{user:s}=e,[n,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1),[b,m]=(0,a.useState)(!1),f=async()=>{if(window.confirm("データをリセットしますか？この操作は取り消せません。")){h(!0),o(null),u(null);try{await (0,i.qZ)(s.uid),o("データをリセットしました。")}catch(e){u("データのリセットに失敗しました。"),console.error(e)}finally{h(!1)}}},w=async()=>{m(!0),u(null);try{await (0,r.Mx)()}catch(e){u("ログアウトに失敗しました。"),console.error(e)}finally{m(!1)}};return(0,l.jsx)(d.Z,{title:"設定",showSettings:!1,children:(0,l.jsxs)("div",{className:"space-y-4",children:[n?(0,l.jsx)("div",{className:"rounded-2xl bg-white p-4 text-sm text-emerald-600 shadow-cardSoft",children:n}):null,c?(0,l.jsx)("div",{className:"rounded-2xl bg-white p-4 text-sm text-rose-500 shadow-cardSoft",children:c}):null,(0,l.jsxs)("div",{className:"rounded-2xl bg-white p-5 shadow-cardSoft",children:[(0,l.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"アカウント"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:null!==(t=s.email)&&void 0!==t?t:"ログイン中のユーザー"}),(0,l.jsx)("button",{type:"button",onClick:w,disabled:b,className:"mt-4 w-full rounded-full border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:text-slate-400 dark:border-slate-700 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:"ログアウト"})]}),(0,l.jsxs)("div",{className:"rounded-2xl bg-white p-5 shadow-cardSoft",children:[(0,l.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"データ管理"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"旅行プランのデータをリセットします。"}),(0,l.jsx)("button",{type:"button",onClick:f,disabled:x,className:"mt-4 w-full rounded-full bg-slate-900 px-4 py-3 text-sm font-semibold text-white transition hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-400 dark:bg-white dark:text-slate-900",children:"データをリセット"})]})]})})}function c(){return(0,l.jsx)(n.Z,{children:e=>(0,l.jsx)(o,{user:e})})}}},function(e){e.O(0,[358,139,288,537,440,971,23,744],function(){return e(e.s=2447)}),_N_E=e.O()}]);